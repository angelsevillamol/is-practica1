# A sample Makefile for building Google Test and using it in user
# tests. Please tweak it to suit your environment and project.  You
# may want to move it to your project's root directory.
#
# SYNOPSIS:
#
#   make [all]  - makes everything.
#   make TARGET - makes the given target.
#   make clean  - removes all files generated by make.

CXX += -g -Wall -Wextra -std=c++11 -pthread

# Directories
MAIN := ppal-is
all: $(MAIN)

alumno.o : \
           alumno.hpp \
           alumno.cpp
	@echo "Creando $@ ..."
	@$(CXX) -c alumno.cpp -o $@

basedatos.o : \
           alumno.hpp \
           alumno.cpp \
           basedatos.hpp \
           basedatos.cpp
	@echo "Creando $@ ..."
	@$(CXX) -c basedatos.cpp -o $@

profesor.o : \
           alumno.hpp \
           alumno.cpp \
           basedatos.hpp \
           basedatos.cpp \
           profesor.hpp \
           profesor.cpp
	@echo "Creando $@ ..."
	@$(CXX) -c profesor.cpp -o $@

ppal-is.o : ppal-is.cpp
	@echo "Creando $@ ..."
	@$(CXX) -c ppal-is.cpp

ppal-is : alumno.o basedatos.o profesor.o ppal-is.o
	@echo "Creando ejecutable del programa principal..."
	@$(CXX) $^ -o $@
	@echo "Compilaci√≥n terminada."

# 
.PHONY : clean tests

clean :
	@echo "Eliminando ficheros objeto..."
	@find . -type f -name '*.o' -exec rm {} +
